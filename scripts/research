#!/usr/bin/env bash
set -euo pipefail

# Start Claude in research mode (Opus model optimized for deep analysis and web research)
# Usage: research or research "topic to research"
# Starts an interactive session. If a prompt is provided, it will be the first query.
if [[ $# -eq 1 ]]; then
    exec claude --dangerously-skip-permissions --model opus --system-prompt "$(cat ~/.claude/research-mode.md)" "$1"
elif [[ $# -gt 1 ]]; then
    echo "Error: Multiple arguments detected. Please use quotes around your prompt."
    echo "Example: research \"who is the king of england\""
    exit 1
else
    exec claude --dangerously-skip-permissions --model opus --system-prompt "$(cat ~/.claude/research-mode.md)"
fi
